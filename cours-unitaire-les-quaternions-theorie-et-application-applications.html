<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <title>Mathématiques | Les quaternions, théorie minimale pour application aux jeux vidéos </title>
  <link rel="stylesheet" href="screen.css">
  <style>
    body{counter-reset:h1 }
  </style>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
  </script>
  <script src="hideshow.js"></script>
  <script type="text/javascript"
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
  <p class="a rotatedFloralHeartBullet">
    <!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
  </p>
  <p>
    <h1>Les quaternions </h1>


	  
    <!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

                       _ _           _   _                 
     /\               | (_)         | | (_)                
    /  \   _ __  _ __ | |_  ___ __ _| |_ _  ___  _ __  ___ 
   / /\ \ | '_ \| '_ \| | |/ __/ _` | __| |/ _ \| '_ \/ __|
  / ____ \| |_) | |_) | | | (_| (_| | |_| | (_) | | | \__ \
 /_/    \_\ .__/| .__/|_|_|\___\__,_|\__|_|\___/|_| |_|___/
          | |   | |                                        
          |_|   |_|                                        

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%	-->
	  <p id="applauquat">
	  <h2>Application des quaternions aux rotations - <a href="#">UP</a></h2> 
	  <h3>Contexte et hypothèses</h3> 
	  Avant de définir les rotations à l'aide des quaternions, on doit définir ce qu'est une rotation. Pour pouvoir l'implémenter en tant que quaternion. 
	  </p>

	  <p>Une rotation est entièrement et uniquement définie à l'aide d'un axe et d'un angle. L'axe est donné par un vecteur et l'angle par un scalaire, en général en radians. Une hypothèse supplémentaire nécessaire pour la simplicité des calculs est de choisir le vecteur de l'axe de rotation comme unitaire. Autrement, dit, lorsque vous définissez un axe de rotation, il faut que sa norme soit égale à $1$. 
	  
	  </p>

	  <h3>Rotation d'un élément de l'espace</h3> 
	  <p>
	  Si on fait tourner une figure de l'espace, que fait on tourner? Les points caractéristiques de la figure. Si c'est un cube, alors on fait tourner chaque point de celui-ci. De la même manière pour une surface, même s'il existe des moyens plus rapides, que l'on évoquera par la suite. Si c'est une sphère, il suffit de faire tourner son centre et en connaissant son rayon, on trouve facilement l'image d'une sphère par une rotation dont l'axe ne passe pas par le centre de la sphère. Sinon, c'est trivial, l'image est elle-même. 
	  </p>

	  <h3>Enoncé du problème</h3> 
	  <p>
	  Donc, soit une rotation $\mathcal{R}_{\vec{u},\theta}$ d'axe donné par le vecteur $\vec{u}$ et d'angle $\theta$. L'objet à faire tourner est un point de l'espace. Si vous savez faire tourner un point, vous saurez faire tourner toute figure de l'espace, qu'elle soit définie par un, deux ou trois mille points. Donc le point $M$ de coordonnées $(x_{M};y_{M};z_{M})$. A ce point on associe naturellement le vecteur $\overrightarrow{OM}$, dont les coordonnées sont les mêmes que que le point $M$. 
	  
	  </p>
	  <p>
	  
		On va donc faire tourner le vecteur  $\overrightarrow{OM}$ d'un angle $\theta$ par rapport à l'axe donné par le vecteur $\vec{u}$. 
	  </p>
	  <p>
	  
	  <h3>Point vu comme un quaternion</h3> 
		Première étape: transformer le vecteur à faire tourner en quaternion. Si on a $\overrightarrow{OM} = (x_{M};y_{M};z_{M})$ alors on peut définir le quaternion associé $q_{M}$: 
		$$
		q_{M} = (0 ; x_{M};y_{M};z_{M}) = x_{M}.i + y_{M}.j + z_{M}.k
		$$
  </p>
	  <p>
	  	  <h3>Quaternion de la rotation</h3> 
		Deuxième étape, on traduit la rotation sous forme de quaternion. La rotation $\mathcal{R}_{\vec{u},\theta}$ est définie par son axe, lui même défini par le vecteur $\vec{u}$ et son d'angle $\theta$. 
		
		Alors le quaternion d'une rotation est donné par la formule suivante: 
		
		
$$
q_\mathcal{R} = (cos\theta/2; u_{x}.sin\theta/2; u_{y}.sin\theta/2; u_{z}.sin\theta/2)
$$
Avec pour condition que $\vec{u}$ soit unitaire. $ u_{x}$, $ u_{y}$ et $ u_{z}$ sont ses composantes. 

  </p>
	  <p>
	  Si le vecteur de l'axe de rotation n'est pas unitaire, alors multiplier le quaternion par l'inverse de la norme du vecteur de l'axe et le quaternion sera unitaire. Et permettra de représenter une rotation. 
	  

  </p>
	  <p>
	  Pour finir la construction de la rotation sous forme de quaternion, il faut maintenant prendre le conjugué du précédent quaternion, soit: 
	  
$$
q^{\star}_\mathcal{R} = (cos\theta/2; - u_{x}.sin\theta/2; - u_{y}.sin\theta/2; - u_{z}.sin\theta/2)
$$
	  
On peut maintenant présenter la formule qui permet de calculer l'image d'un point par une rotation dans l'espace, à l'aide des quaternions. On pose: $\overrightarrow{OM^{'}} = (x_{M^{'}};y_{M^{'}};z_{M^{'}})$ l'image du point $M$ par la rotation, et son quaternion associé: $q_{M^{'}}$. Alors: 

$$
q_{M^{'}} = q_\mathcal{R} . q_{M} . q^{\star}_\mathcal{R}
$$


  </p>
	  <p>
	  
	  
  </p>
	  

	  
    <!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  ______                          _           
 |  ____|                        | |          
 | |__  __  _____ _ __ ___  _ __ | | ___  ___ 
 |  __| \ \/ / _ \ '_ ` _ \| '_ \| |/ _ \/ __|
 | |____ >  <  __/ | | | | | |_) | |  __/\__ \
 |______/_/\_\___|_| |_| |_| .__/|_|\___||___/
                           | |                
                           |_|                

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%	-->
	  <p id="exempledapplication"><h2>Exemples d’application - <a href="#">UP</a></h2>
Voici un tableau contenant quelques quaternions correspondant à certaines rotations. Quelques
exemples peuvent permettre d’implémenter plus facilement ces éléments.
Considérons q un quaternion et ses composantes:

q = (a; b; c; d) 


      $$
      \begin{align*}
      \begin{array}{|c|c|c|c|c|} \hline
      a 			& b 			& c 			& d 			& \text{Rotations résultantes} 			\\ \hline
      1 			& 0 			& 0 			& 0 			& 									\text{Identité = rotation d'angle nul }			\\ \hline
	  0 			& 1 			& 0 			& 0 			& 									\text{Rotation autour de l’axe des }x 			\\ \hline
	  0 			& 0 			& 1 			& 0 			& 									\text{Rotation autour de l’axe des $y$}, 			\\ \hline
	  0 			& 0 			& 0 			& 1 			& 									\text{Rotation autour de l’axe des $z$}, 			\\ \hline
	  \dfrac{\sqrt{2}}{2} 			& \dfrac{\sqrt{2}}{2} 			& 0 			& 0 			& 	\text{Rotations de $\pi/2$ par rapport $\vec{i}$} 			\\ \hline
	  \dfrac{\sqrt{2}}{2} 			& 0 			& \dfrac{\sqrt{2}}{2} 			& 0 			& 	\text{Rotations de $\pi/2$ par rapport $\vec{j}$	}		\\ \hline
	  \dfrac{\sqrt{2}}{2} 			& 0 			& 0 			& \dfrac{\sqrt{2}}{2}			& 	\text{Rotations de $\pi/2$ par rapport $\vec{k}$	}		\\ \hline
	  \dfrac{\sqrt{2}}{2} 			& -\dfrac{\sqrt{2}}{2} 			& 0 			& 0 			& 	\text{Rotations de $-\pi/2$ par rapport $\vec{i}$	}		\\ \hline
	  \dfrac{\sqrt{2}}{2} 			& 0 			& -\dfrac{\sqrt{2}}{2} 			& 0 			& 	\text{Rotations de $-\pi/2$ par rapport $\vec{j}$	}		\\ \hline
	  \dfrac{\sqrt{2}}{2} 			& 0 			& 0 			& -\dfrac{\sqrt{2}}{2} 			& 	\text{Rotations de $-\pi/2$ par rapport $\vec{k}$	}		\\
	  
      \hline
      \end{array}
      \end{align*}
      $$

	  </p>

	  <p>
	  Soit $M$ le point de coordonnées $(1;0;1)$. On veut le faire tourner d'un quart de tour  ($\pi/2$) par rapport à l'axe des $z$, dans le sens positif. L'axe de rotation est donné par le vecteur unitaire $\vec{u} = (0;0;1)$On a donc: 
	  
		$$
		q_{M} = i + k
		$$
		et 
$$
q_\mathcal{R} = (cos\pi/4; 0 ; 0 ; sin\pi/4) = \dfrac{\sqrt{2}}{2}+ \dfrac{\sqrt{2}}{2}.k
$$
$$
q^{\star}_\mathcal{R} = (cos\pi/4;  0 ; 0 ;  sin\pi/4) = \dfrac{\sqrt{2}}{2} - \dfrac{\sqrt{2}}{2}.k
$$
	  </p>

	  <p>
	  Donc: 
	  
$$
q_{M^{'}} = (\dfrac{\sqrt{2}}{2}+ \dfrac{\sqrt{2}}{2}.k) . (i + k) . (\dfrac{\sqrt{2}}{2} - \dfrac{\sqrt{2}}{2}.k)\\
= \dfrac{1}{2} (1+k).(i+k).(1-k)\\
= \dfrac{1}{2} (i+k+ki+k^{2}).(1-k)\\
= \dfrac{1}{2} (i+k+j-1).(1-k)\\
= \dfrac{1}{2} (i+k+j-1-ik-k^{2}-jk+k)\\
= \dfrac{1}{2} (i+k+j-1+j+1-i+k)\\
= \dfrac{1}{2} (2j+2k)\\
= j+k\\
$$
Par une rotation d'un quart de tour par rapport à l'axe des $z$, la rotation du point $M = (1 ; 0 ; 1)$ est bien le point $M' = (0 ; 1 ; 1)$:

      <img src="https://raw.githubusercontent.com/IamHenri/G1-Geometrie/main/images/rotation-quaternion-image.png" width=50%>[!h]
	  </p>
	  
	  
	  
    <!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
  
___________                           .__                     
\_   _____/__  ___ ___________   ____ |__| ____  ____   ______
 |    __)_\  \/  // __ \_  __ \_/ ___\|  |/ ___\/ __ \ /  ___/
 |        \>    <\  ___/|  | \/\  \___|  \  \__\  ___/ \___ \ 
/_______  /__/\_ \\___  >__|    \___  >__|\___  >___  >____  >
        \/      \/    \/            \/        \/    \/     \/ 

  

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%	-->

	  <p id="theorie"><h2>Exercices d'application - <a href="#">UP</a></h2>
	  
	  <h3>Produit d'un quaternion et de son conjugué</h3> 
<p>Soit :</p>

\[
p = 1 + \mathbf{i} + \mathbf{j} - \mathbf{k}, \quad
\overline{p} = 1 - \mathbf{i} - \mathbf{j} + \mathbf{k}
\]

<hr>

<h3>1. Norme</h3>

\[
\|p\| = \sqrt{1^2 + 1^2 + 1^2 + (-1)^2} = 2
\]

<h3>2. Normalisation</h3>

\[
p_n = \tfrac{1}{2}(1 + \mathbf{i} + \mathbf{j} - \mathbf{k}), \quad
\overline{p_n} = \tfrac{1}{2}(1 - \mathbf{i} - \mathbf{j} + \mathbf{k})
\]

<h3>3. Produit développé</h3>

\[
p_n \overline{p_n} = \tfrac{1}{4}(1 + \mathbf{i} + \mathbf{j} - \mathbf{k})(1 - \mathbf{i} - \mathbf{j} + \mathbf{k})
\]

\[
\begin{aligned}
(1 + \mathbf{i} + \mathbf{j} - \mathbf{k})(1 - \mathbf{i} - \mathbf{j} + \mathbf{k})
&= 1(1 - \mathbf{i} - \mathbf{j} + \mathbf{k}) \\[3pt]
&\quad + \mathbf{i}(1 - \mathbf{i} - \mathbf{j} + \mathbf{k}) \\[3pt]
&\quad + \mathbf{j}(1 - \mathbf{i} - \mathbf{j} + \mathbf{k}) \\[3pt]
&\quad - \mathbf{k}(1 - \mathbf{i} - \mathbf{j} + \mathbf{k})
\end{aligned}
\]

<p><strong>Détail des termes :</strong></p>

\[
\begin{aligned}
1(1 - \mathbf{i} - \mathbf{j} + \mathbf{k}) &= 1 - \mathbf{i} - \mathbf{j} + \mathbf{k} \\[6pt]
\mathbf{i}(1 - \mathbf{i} - \mathbf{j} + \mathbf{k}) &= 1 + \mathbf{i} - \mathbf{j} - \mathbf{k} \\[6pt]
\mathbf{j}(1 - \mathbf{i} - \mathbf{j} + \mathbf{k}) &= 1 + \mathbf{i} + \mathbf{j} + \mathbf{k} \\[6pt]
-\mathbf{k}(1 - \mathbf{i} - \mathbf{j} + \mathbf{k}) &= -1 - \mathbf{i} + \mathbf{j} - \mathbf{k}
\end{aligned}
\]

<h3>4. Somme des quatre lignes</h3>

\[
(1 - \mathbf{i} - \mathbf{j} + \mathbf{k})
+ (1 + \mathbf{i} - \mathbf{j} - \mathbf{k})
+ (1 + \mathbf{i} + \mathbf{j} + \mathbf{k})
+ (-1 - \mathbf{i} + \mathbf{j} - \mathbf{k})
\]

\[
\Rightarrow \text{partie réelle } = 2, \quad \text{partie imaginaire } = 0
\]

\[
(1 + \mathbf{i} + \mathbf{j} - \mathbf{k})(1 - \mathbf{i} - \mathbf{j} + \mathbf{k}) = 4
\]

<h3>5. Facteur de normalisation</h3>

\[
p_n \overline{p_n} = \tfrac{1}{4} \times 4 = 1
\]

<hr>

<h2>Résultat final</h2>

\[
\boxed{
p_n = \tfrac{1}{2}(1 + \mathbf{i} + \mathbf{j} - \mathbf{k}), \quad
\overline{p_n} = \tfrac{1}{2}(1 - \mathbf{i} - \mathbf{j} + \mathbf{k}), \quad
p_n \overline{p_n} = 1
}
\]

<p>
Ainsi, \(p_n\) est un quaternion <strong>unitaire</strong>, représentant une rotation pure.
</p>

	  
    <!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
  _      _           _ _            
 | |    (_)         (_) |           
 | |     _ _ __ ___  _| |_ ___  ___ 
 | |    | | '_ ` _ \| | __/ _ \/ __|
 | |____| | | | | | | | ||  __/\__ \
 |______|_|_| |_| |_|_|\__\___||___/
                                    
                                    

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%	-->

	  <p id="limites"><h2>Limites de ces pages - <a href="#">UP</a></h2>
	  Cette page web ne se veut pas comme être la référence théorique sur les quaternions. Son objectif est uniquement de permettre de les appréhender d'un point de vue appliqué pour permettre leur utilisation en programmation 3D. La théorie des quaternions est vaste et touche diverses domaines des mathématiques, de l'algèbre linéaire, bilinéaire, sesquilinéaire, algèbre pur, Analyse complexe. 
</p>
  <p class="a rotatedFloralHeartBullet">
</p>
  <br>
  <hr>
  <a href="index.html">Retour à l'accueil &rarr;</a><br>

  <script src="jsfile/jquery.js"></script>
  <script src="jsfile/modernizr.js"></script>
  <script src="jsfile/dih5.js"></script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DSGSHE1GR2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-DSGSHE1GR2');
</script>
</body>
</html>
